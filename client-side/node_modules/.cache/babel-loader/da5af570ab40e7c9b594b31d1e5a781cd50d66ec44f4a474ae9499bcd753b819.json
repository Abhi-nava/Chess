{"ast":null,"code":"class Engine {\n  constructor() {\n    this.stockfish = new Worker(\"./../stockfish.js\");\n    this.onMessage = callback => {\n      this.stockfish.addEventListener(\"message\", e => {\n        var _e$data, _e$data$match;\n        const bestMove = (_e$data = e.data) === null || _e$data === void 0 ? void 0 : (_e$data$match = _e$data.match(/bestmove\\s+(\\S+)/)) === null || _e$data$match === void 0 ? void 0 : _e$data$match[1];\n        callback({\n          bestMove\n        });\n      });\n    };\n    // Initialize the engine\n    this.sendMessage(\"uci\");\n    this.sendMessage(\"isready\");\n  }\n  sendMessage(message) {\n    this.stockfish.postMessage(message);\n  }\n  evaluatePosition(fen, depth) {\n    this.stockfish.postMessage(`position fen ${fen}`);\n    this.stockfish.postMessage(`go depth ${depth}`);\n  }\n  stop() {\n    this.sendMessage(\"stop\");\n  }\n  quit() {\n    this.sendMessage(\"quit\");\n  }\n}\nexport default Engine;","map":{"version":3,"names":["Engine","constructor","stockfish","Worker","onMessage","callback","addEventListener","e","_e$data","_e$data$match","bestMove","data","match","sendMessage","message","postMessage","evaluatePosition","fen","depth","stop","quit"],"sources":["C:/Users/srini/clg_stuff/2nd year/Coding/WebTech/Project/Final_Project/client/src/bots/engine.js"],"sourcesContent":["class Engine {\r\n    constructor() {\r\n      this.stockfish = new Worker(\"./../stockfish.js\");\r\n      this.onMessage = (callback) => {\r\n        this.stockfish.addEventListener(\"message\", (e) => {\r\n          const bestMove = e.data?.match(/bestmove\\s+(\\S+)/)?.[1];\r\n          callback({ bestMove });\r\n        });\r\n      };\r\n      // Initialize the engine\r\n      this.sendMessage(\"uci\");\r\n      this.sendMessage(\"isready\");\r\n    }\r\n  \r\n    sendMessage(message) {\r\n      this.stockfish.postMessage(message);\r\n    }\r\n  \r\n    evaluatePosition(fen, depth) {\r\n      this.stockfish.postMessage(`position fen ${fen}`);\r\n      this.stockfish.postMessage(`go depth ${depth}`);\r\n    }\r\n  \r\n    stop() {\r\n      this.sendMessage(\"stop\");\r\n    }\r\n  \r\n    quit() {\r\n      this.sendMessage(\"quit\");\r\n    }\r\n  }\r\n  \r\n  export default Engine;\r\n  "],"mappings":"AAAA,MAAMA,MAAM,CAAC;EACTC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,SAAS,GAAG,IAAIC,MAAM,CAAC,mBAAmB,CAAC;IAChD,IAAI,CAACC,SAAS,GAAIC,QAAQ,IAAK;MAC7B,IAAI,CAACH,SAAS,CAACI,gBAAgB,CAAC,SAAS,EAAGC,CAAC,IAAK;QAAA,IAAAC,OAAA,EAAAC,aAAA;QAChD,MAAMC,QAAQ,IAAAF,OAAA,GAAGD,CAAC,CAACI,IAAI,cAAAH,OAAA,wBAAAC,aAAA,GAAND,OAAA,CAAQI,KAAK,CAAC,kBAAkB,CAAC,cAAAH,aAAA,uBAAjCA,aAAA,CAAoC,CAAC,CAAC;QACvDJ,QAAQ,CAAC;UAAEK;QAAS,CAAC,CAAC;MACxB,CAAC,CAAC;IACJ,CAAC;IACD;IACA,IAAI,CAACG,WAAW,CAAC,KAAK,CAAC;IACvB,IAAI,CAACA,WAAW,CAAC,SAAS,CAAC;EAC7B;EAEAA,WAAWA,CAACC,OAAO,EAAE;IACnB,IAAI,CAACZ,SAAS,CAACa,WAAW,CAACD,OAAO,CAAC;EACrC;EAEAE,gBAAgBA,CAACC,GAAG,EAAEC,KAAK,EAAE;IAC3B,IAAI,CAAChB,SAAS,CAACa,WAAW,CAAC,gBAAgBE,GAAG,EAAE,CAAC;IACjD,IAAI,CAACf,SAAS,CAACa,WAAW,CAAC,YAAYG,KAAK,EAAE,CAAC;EACjD;EAEAC,IAAIA,CAAA,EAAG;IACL,IAAI,CAACN,WAAW,CAAC,MAAM,CAAC;EAC1B;EAEAO,IAAIA,CAAA,EAAG;IACL,IAAI,CAACP,WAAW,CAAC,MAAM,CAAC;EAC1B;AACF;AAEA,eAAeb,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}